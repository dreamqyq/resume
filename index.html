<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Resume</title>
	<script src="//at.alicdn.com/t/font_673488_er16whxqj3ba9k9.js"></script>
	<style type="text/css">
    	.icon {width: 1em; height: 1em; vertical-align: -0.15em; fill: currentColor; overflow: hidden; }
    	.loading{height:200px; width:200px; position:relative; }
		.loading::before,.loading:after{content:''; position:absolute; height:0; width:0; border-radius:50%; background:#333; left:0; right:0; top:0; bottom:0; margin:auto; animation:loading 1.5s infinite linear; } 
		.loading:after{animation-delay:0.75s; }
		@keyframes loading{0%{height:0; width:0; opacity:1; } 100%{height:100px; width:100px; opacity:0; } }
	</style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/css/swiper.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="start active" id="start">
		<div class="loading"></div>
	</div>
	<div class="navBar" id="navBar">
		<div class="navWrap  clearfix">
			<div class="logo">
				<a href="#">
          <span class="rs">RS</span><span class="card">card</span>	
				</a>
			</div>
			<nav>
				<ul class="clearfix">
					<li><a href="#siteAbout">ABOUT</a></li>
					<li><a href="#siteSkills">SKILLS</a></li>
					<li>
						<a href="#sitePortfolio">PORTFOLIO</a>
						<ul class="submenu">
							<li>HTML && CSS</li>
							<li>JavaScript</li>
							<li>jQuery</li>
							<li>Vue</li>
							<li>HTTP</li>
						</ul>
					</li>
					<li>
						<a href="#">EXPERIENCE</a>
						<ul class="submenu">
							<li>Education</li>
							<li>Clients</li>
							<li>Reference</li>
						</ul>
					</li>
					<li><a href="#">PRICING</a></li>
					<li>
						<a href="#">BLOG</a>
						<ul class="submenu">
							<li>Blog 1</li>
							<li>Blog 2</li>
							<li>Blog 3</li>
							<li>Blog 4</li>
							<li>Blog 5</li>
						</ul>
					</li>
					<li><a href="#">CALENDAR</a></li>
					<li><a href="#">CONTACT</a></li>
					<li>
						<a href="#">OTHER</a>
						<ul class="submenu">
							<li>Demo</li>
							<li>Typography Page</li>
							<li>404 Page</li>
						</ul>
					</li>
				</ul>
			</nav>
		</div>
	</div>
	<!-- 遮罩层与背景图 -->
	<div class="wall">
		<div class="mask"></div>	
	</div>
	<!-- 主体部分 -->
	<main>
		<!-- 名片 -->
		<div class="card" id="siteAbout" data-x>
			<div class="cardTop clearfix">
				<div class="avatar">
					<img src="./img/avatar.jpg" alt="头像">
				</div>
				<div class="info">
					<span class="welcome">Hello
						<span class="triangle"></span>
					</span>
					<h1>I'm <strong>Enoch Qin</strong></h1>
					<p>Student</p>
					<hr>
					<dl class="clearfix">
						<dt>AGE</dt>
						<dd>20</dd>
						<dt>ADDRESS</dt>
						<dd>YiChang,HuBei</dd>
						<dt>E-MAIL</dt>
						<dd>qyqdream@foxmail.com</dd>
						<dt>PHONE</dt>
						<dd>+86XXXXXXXXXXX</dd>
					</dl>
				</div>	
			</div>
			<footer>
				<a href="#">
					<svg class="icon" aria-hidden="true">
    					<use xlink:href="#icon-QQ"></use>
					</svg>
				</a>
				<a href="#">
					<svg class="icon" aria-hidden="true">
    					<use xlink:href="#icon-weixin"></use>
					</svg>
				</a>
				<a href="#">
					<svg class="icon" aria-hidden="true">
    					<use xlink:href="#icon-weibo"></use>
					</svg>
				</a>
				<a href="#">
					<svg class="icon" aria-hidden="true">
    					<use xlink:href="#icon-twitter"></use>
					</svg>
				</a>
				<a href="#">
					<svg class="icon" aria-hidden="true">
    					<use xlink:href="#icon-csdn"></use>
					</svg>
				</a>
				<a href="#">
					<svg class="icon" aria-hidden="true">
    					<use xlink:href="#icon-github"></use>
					</svg>
				</a>
			</footer>
		</div>	
		<div class="resumeDownload">
			<a href="./resume.pdf" class="btn" download>DOWNLOAD RESUME</a>
		</div>
		<div class="introduce">
			Hello! I’m Enoch Qin , a College student. I am currently studying the Digital Media Technology in the college of computer and information,the China Three Gorges University. Career Objective: Frontend.
		</div>
	</main>
	<section class="skills" id="siteSkills" data-x>
		<h2>Professional Skills</h2>
		<ol class="clearfix">
			<li>
				<h3>HTML</h3>
				<div class="progressBar">
					<div class="progressBar-inner" style="width: 90%"></div>
				</div>
			</li>
			<li>
				<h3>CSS</h3>
				<div class="progressBar">
					<div class="progressBar-inner" style="width: 75%"></div>
				</div>
			</li>
			<li>
				<h3>JavaScript</h3>
				<div class="progressBar">
					<div class="progressBar-inner" style="width: 50%"></div>
				</div>
			</li>
			<li>
				<h3>jQuery</h3>
				<div class="progressBar">
					<div class="progressBar-inner" style="width: 60%"></div>
				</div>
			</li>
			<li>
				<h3>Vue</h3>
				<div class="progressBar">
					<div class="progressBar-inner" style="width: 30%"></div>
				</div>
			</li>
			<li>
				<h3>HTTP</h3>
				<div class="progressBar">
					<div class="progressBar-inner" style="width: 40%"></div>
				</div>
			</li>
		</ol>
	</section>
	<section class="portfolio" id="sitePortfolio" data-x>
		<h2>Portfolio</h2>
    <div class="slide-wrapper">
      <div class="swiper-container">
        <div class="swiper-wrapper">
            <img class="swiper-slide" src="./img/works/canvasboard.jpg" width="668"  alt="">
            <img class="swiper-slide" src="./img/works/navpage.jpg" width="668" alt="">
            <img class="swiper-slide" src="./img/works/appleslide.jpg" width="668" alt="">
        </div>
        <div class="swiper-pagination"></div>
      </div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
	</section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/js/swiper.min.js"></script>
  <script>
  var mySwiper = new Swiper ('.swiper-container', {
    loop: true,
    pagination: {
      el: '.swiper-pagination',
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  })
  </script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
	<script>
		setTimeout(function(){
			start.classList.remove('active');
			findMinDistance();
		},1500)
		
		let targetArea = document.querySelectorAll('[data-x]');

		for(let i = 0;i < targetArea.length; i++){
				targetArea[i].classList.add('offset')
				console.log(targetArea[i])
		}	

		window.onscroll = function(){
			if(window.scrollY > 0){
				navBar.classList.add('sticky');				
			}else{
				navBar.classList.remove('sticky');
			}
			findMinDistance();
		}



		let siteMenu = document.querySelectorAll('.navBar nav > ul > li');
		for(let i = 0; i < siteMenu.length;  i++){
			siteMenu[i].onmouseenter = function(ele){
				ele.currentTarget.classList.add('active');
			}
			siteMenu[i].onmouseleave = function(ele){
				ele.currentTarget.classList.remove('active');				
			}

		}


		let aTags = document.querySelectorAll('.navBar nav > ul > li > a');
		for(let i = 0 ; i < aTags.length ; i++){
			aTags[i].onclick = function(ele){
				ele.preventDefault();
				let targetY = document.querySelector(ele.target.getAttribute('href')).offsetTop - 80;
				let currentY = window.scrollY;
				let distance = currentY - targetY;
				let time = Math.abs((distance/100) * 300);
				if(time > 500){ time = 500 ;}
		
				// Setup the animation loop.
				function animate(time) {
				    requestAnimationFrame(animate);
				    TWEEN.update(time);
				}
				requestAnimationFrame(animate);

				var coords = {  y: currentY }; 
				var tween = new TWEEN.Tween(coords) 
				        .to({  y: targetY }, time) 
				        .easing(TWEEN.Easing.Quadratic.InOut) 
				        .onUpdate(function() { 
				            window.scrollTo(0,coords.y)
				        })
				        .start(); 
			}


		}

		
		function findMinDistance(){
			let currentY = window.scrollY + 80;
			let targetArea = document.querySelectorAll('[data-x]');

			let minIndex = 0;
			for(let i = 1;i < targetArea.length;i++){
				if(Math.abs(targetArea[i].offsetTop - currentY) < Math.abs(targetArea[minIndex].offsetTop - currentY)){
					minIndex = i;
				}
			}
			let navA = document.querySelector('a[href="#'+ targetArea[minIndex].id +'"]');
			let navLi = navA.parentNode.parentNode.children;
			for(let i = 0; i < navLi.length; i++){
				navLi[i].classList.remove('highlight')
			}
			navA.parentNode.classList.add('highlight');

			let currentArea = targetArea[minIndex];
			currentArea.classList.remove('offset');
			
		}

	</script>

</body>
</html>
